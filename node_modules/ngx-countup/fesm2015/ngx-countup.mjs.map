{"version":3,"file":"ngx-countup.mjs","sources":["../../../projects/count-up/src/lib/count-up.directive.ts","../../../projects/count-up/src/lib/count-up.module.ts","../../../projects/count-up/src/public_api.ts","../../../projects/count-up/src/ngx-countup.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Input,\n  Output,\n  HostListener,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges,\n  NgZone, Inject, PLATFORM_ID\n} from '@angular/core';\nimport { CountUp, CountUpOptions } from 'countup.js';\nimport {isPlatformBrowser} from '@angular/common';\n\n@Directive({\n  selector: '[countUp]'\n})\nexport class CountUpDirective implements OnChanges {\n\n  countUp: CountUp;\n  // the value you want to count to\n  @Input('countUp') endVal: number;\n\n  @Input() options: CountUpOptions = {};\n  @Input() reanimateOnClick = true;\n  // eslint-disable-next-line @angular-eslint/no-output-native\n  @Output() complete = new EventEmitter<void>();\n\n  // Re-animate if preference is set.\n  @HostListener('click')\n  onClick() {\n    if (this.reanimateOnClick) {\n      this.animate();\n    }\n  }\n\n  constructor(\n    private el: ElementRef,\n    private zone: NgZone,\n    @Inject(PLATFORM_ID) private platformId: Object,\n  ) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // don't animate server-side (universal)\n    if (!isPlatformBrowser(this.platformId)) {\n      return;\n    }\n\n    const { options, endVal } = changes;\n    if (endVal?.currentValue !== undefined) {\n      if (this.countUp !== undefined) {\n        this.zone.runOutsideAngular(() => {\n          this.countUp.update(this.endVal);\n        });\n      } else {\n        this.initAndRun();\n      }\n    }\n    else if (options?.currentValue !== undefined) {\n      this.initAndRun();\n    }\n  }\n\n  animate(): void {\n    this.zone.runOutsideAngular(() => {\n      this.countUp.reset();\n      this.countUp.start(() => {\n        this.zone.run(() => {\n          this.complete.emit();\n        });\n      });\n    });\n  }\n\n  private initAndRun(): void {\n    this.zone.runOutsideAngular(() => {\n      this.countUp = new CountUp(this.el.nativeElement, this.endVal, this.options);\n      if (!this.options.enableScrollSpy) {\n        this.animate();\n      }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CountUpDirective } from './count-up.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [CountUpDirective],\n  exports: [CountUpDirective]\n})\nexport class CountUpModule { }\n","/*\n * Public API Surface of count-up\n */\n\nexport * from './lib/count-up.module';\nexport * from './lib/count-up.directive';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;MAiBa,gBAAgB;IAmB3B,YACU,EAAc,EACd,IAAY,EACS,UAAkB;QAFvC,OAAE,GAAF,EAAE,CAAY;QACd,SAAI,GAAJ,IAAI,CAAQ;QACS,eAAU,GAAV,UAAU,CAAQ;QAhBxC,YAAO,GAAmB,EAAE,CAAC;QAC7B,qBAAgB,GAAG,IAAI,CAAC;;QAEvB,aAAQ,GAAG,IAAI,YAAY,EAAQ,CAAC;KAc1C;;IAVJ,OAAO;QACL,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;KACF;IAQD,WAAW,CAAC,OAAsB;;QAEhC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACvC,OAAO;SACR;QAED,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC;QACpC,IAAI,CAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,YAAY,MAAK,SAAS,EAAE;YACtC,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC9B,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;oBAC1B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;iBAClC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB;SACF;aACI,IAAI,CAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,YAAY,MAAK,SAAS,EAAE;YAC5C,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;KACF;IAED,OAAO;QACL,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACrB,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;gBACjB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;oBACZ,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;iBACtB,CAAC,CAAC;aACJ,CAAC,CAAC;SACJ,CAAC,CAAC;KACJ;IAEO,UAAU;QAChB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC7E,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE;gBACjC,IAAI,CAAC,OAAO,EAAE,CAAC;aAChB;SACF,CAAC,CAAC;KACJ;;6GAhEU,gBAAgB,kEAsBjB,WAAW;iGAtBV,gBAAgB;2FAAhB,gBAAgB;kBAH5B,SAAS;mBAAC;oBACT,QAAQ,EAAE,WAAW;iBACtB;;sEAuB4C,MAAM;8BAA9C,MAAM;+BAAC,WAAW;;yBAlBH,MAAM;sBAAvB,KAAK;uBAAC,SAAS;gBAEP,OAAO;sBAAf,KAAK;gBACG,gBAAgB;sBAAxB,KAAK;gBAEI,QAAQ;sBAAjB,MAAM;gBAIP,OAAO;sBADN,YAAY;uBAAC,OAAO;;;MCrBV,aAAa;;0GAAb,aAAa;2GAAb,aAAa,iBAHT,gBAAgB,aACrB,gBAAgB;2GAEf,aAAa,YAJf,EAAE;2FAIA,aAAa;kBALzB,QAAQ;mBAAC;oBACR,OAAO,EAAE,EAAE;oBACX,YAAY,EAAE,CAAC,gBAAgB,CAAC;oBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;iBAC5B;;;ACPD;;;;ACAA;;;;;;"}